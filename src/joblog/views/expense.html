{{define "expense"}}
<!DOCTYPE html>
<html lang="en">

	<head>
		<title>Page Title</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>My Project</title>
		<link rel="stylesheet" href="../styles.css">
		    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">-->
		<!--<script src="https://cdn.tailwindcss.com"></script>-->
		  <svg width="0" height="0" class="hidden" style="display: none;">
  <symbol id="option" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <circle cx="12" cy="12" r="2"></circle>
    <circle cx="4" cy="12" r="2"></circle>
    <circle cx="20" cy="12" r="2"></circle>
  </symbol>
</svg>

	</head>

	<body style="margin: 0px;" class="">

		<div id="expense-grid-container">
			<div id="brand">
				<h1>
				Bookie
				</h1>
			</div>


			<header>
				{{template "path" .}}

			</header>
			<aside id="side-bar">
				<ul>
					<li class="side-item">
						Home
					</li>

					<li class="side-item">
						dashboard
					</li>

					<li class="side-item">
						View Documents	
					</li>
					<li class="side-item">
						Invoice
					</li>
					<li class="side-item">
						Notes
					</li>
				</ul>
			</aside>
			<main class="expense-main">

				<div id="item-desc">

					<h2> 
						{{.Expense.Name}}
						{{.Expense.Id}}

					</h2>


				</div>

				<div id="item-details">
					<div id="expDocList">
						<h3> 
							Receipts
						</h3>
						<ul>
							{{range $expense, $receipt := .ReceiptMap}}
							<!--<div class="receipt-itemized">-->
							<!--<li>-->
							<!--		{{$receipt.FileKey}}-->
							<!--</li>-->
							<!--	<button> Download/View </button>-->
							<!--</div>-->
				{{if eq $receipt.Id 0}}
							<div class="receipt-itemized">
				<li id={{print "receiptfor" $expense.Id}}>
					<form enctype="multipart/form-data" method="post" hx-target={{print "#receiptfor" $expense.Id}} hx-swap="outerHTML" hx-trigger="submit" hx-post={{print "/upload/receipt/" $expense.Id}}>

								<input type="file" name="file">
						<input type="hidden" name="expId" value={{$expense.Id}} >
						<input type="submit">
						
					</form>
							</li>
							</div>

				{{else}}
							<div class="receipt-itemized">

							<li class="upload-rec-row">
									{{$receipt.FileKey}}
							<button> Dowload/view </button>
							</li>
							</div>

				{{end}}

							{{end}}
						</ul>
					<div id="expDescOpts">
						<button> Make Changes </button>
						<button> Remove Item </button>
					</div>
					</div>
					

				</div>

					

			</main>
		</div>





	</body>

</html>
{{end}}
